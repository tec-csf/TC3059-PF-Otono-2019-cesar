{"ast":null,"code":"var _jsxFileName = \"/home/cesar/Desktop/Riesgo_Cognitivo/frontend/src/pages/Register.jsx\";\nimport React, { Component } from 'react';\nimport Navbarmenu from '../components/Navbarmenu/Navbarmenu';\nimport { ButtonSubmit } from '../components/Button/Button';\nimport InputForm from '../components/InputForm/InputForm';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport ContactTopBar from '../components/ContactTopBar/ContactTopBar';\nconst API_URL = process.env.REACT_APP_API_URL;\nconst re_email = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst re_phone = /^\\d+$/;\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidUpdate = () => {\n      if (this.state.invalid && this.state.termsChecked && this.state.validEmail && this.state.validPhone && this.state.name.length > 0 && this.state.lastname.length > 0 && this.state.company.length > 0 && this.state.password.length > 0) {\n        this.setState({\n          invalid: false\n        });\n      }\n    };\n\n    this.handlerName = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.handlerLastName = event => {\n      this.setState({\n        lastname: event.target.value\n      });\n    };\n\n    this.handlerEmail = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlerPhone = event => {\n      this.setState({\n        phone: event.target.value\n      });\n    };\n\n    this.handlerCompany = event => {\n      this.setState({\n        company: event.target.value\n      });\n    };\n\n    this.handlerPassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.registerUser = event => {\n      event.preventDefault();\n      axios.post(API_URL + \"/api/v1/register/user\", {\n        email: this.state.email,\n        user_metadata: {},\n        blocked: false,\n        email_verified: false,\n        app_metadata: {},\n        given_name: this.state.name,\n        family_name: this.state.lastname,\n        name: this.state.name + \" \" + this.state.lastname,\n        connection: \"Username-Password-Authentication\",\n        password: this.state.password,\n        verify_email: false\n      }).then(res => {\n        if (res.data.email === this.state.email) {\n          this.setState({\n            redirect: true\n          });\n        } else {\n          var warning;\n\n          switch (res.data.statusCode) {\n            case 400:\n              warning = \"Contraseña muy débil\";\n              this.setState({\n                messagePassword: warning,\n                warningPassword: \" -warning\"\n              });\n              break;\n\n            case 409:\n              warning = \"Usuario ya existe en la base de datos\";\n              this.setState({\n                messageEmail: warning,\n                warningEmail: \" -warning\"\n              });\n              break;\n\n            default:\n              warning = \"Hubo un error con tu registro\";\n              this.setState({\n                messagePassword: warning,\n                warningPassword: \" -warning\"\n              });\n          }\n        }\n      });\n    };\n\n    this.validateEmail = () => {\n      if (!re_email.test(this.state.email)) {\n        this.setState({\n          warningEmail: \" -warning\",\n          messageEmail: \"Correo no válido\",\n          validEmail: false,\n          invalid: true\n        });\n      } else {\n        this.setState({\n          warningEmail: \"\",\n          messageEmail: \"Correo no válido\",\n          validEmail: true\n        });\n      }\n    };\n\n    this.validatePhone = () => {\n      if (!re_phone.test(this.state.phone)) {\n        this.setState({\n          warningPhone: \" -warning\",\n          validPhone: false,\n          invalid: true\n        });\n      } else {\n        this.setState({\n          warningPhone: \"\",\n          validPhone: true\n        });\n      }\n    };\n\n    this.validatePassword = () => {\n      this.setState({\n        warningPassword: \"\"\n      });\n\n      if (this.state.password.length <= 0) {\n        this.setState({\n          invalid: true\n        });\n      }\n    };\n\n    this.validateName = () => {\n      if (this.state.name.length <= 0) {\n        this.setState({\n          invalid: true\n        });\n      }\n    };\n\n    this.validateLastName = () => {\n      if (this.state.lastname.length <= 0) {\n        this.setState({\n          invalid: true\n        });\n      }\n    };\n\n    this.validateCompany = () => {\n      if (this.state.company.length <= 0) {\n        this.setState({\n          invalid: true\n        });\n      }\n    };\n\n    this.validateTerms = event => {\n      if (event.target.checked) {\n        this.setState({\n          termsChecked: true\n        });\n      } else {\n        this.setState({\n          termsChecked: false,\n          invalid: true\n        });\n      }\n    };\n\n    this.state = {\n      name: \"\",\n      lastname: \"\",\n      email: \"\",\n      phone: \"\",\n      company: \"\",\n      password: \"\",\n      redirect: false,\n      validEmail: false,\n      validPhone: false,\n      // validPassword: true,\n      warningEmail: \"\",\n      warningPhone: \"\",\n      warningPassword: \"\",\n      messageEmail: \"Correo no válido\",\n      messagePassword: \"Contraseña no válida\",\n      invalid: true,\n      termsChecked: false\n    };\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: \"/confirmation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(ContactTopBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }), React.createElement(Navbarmenu, Object.assign({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"container mt-90\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 mt-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/landing\",\n      className: \"button -fabtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-arrow-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"row d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"title mt-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"REGISTRO\"))), React.createElement(\"form\", {\n      onSubmit: this.registerUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-lg-6 mt-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(InputForm, {\n      inputColor: \"-secondary\",\n      warning: \"Datos no v\\xE1lidos\",\n      onChange: this.handlerName,\n      type: \"text\",\n      label: \"Nombre*\",\n      onBlur: this.validateName,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-lg-6 mt-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(InputForm, {\n      inputColor: \"-secondary\",\n      warning: \"Datos no v\\xE1lidos\",\n      onChange: this.handlerLastName,\n      type: \"text\",\n      label: \"Apellidos*\",\n      onBlur: this.validateLastName,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-lg-6 mt-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(InputForm, {\n      inputColor: \"-secondary\",\n      warning: this.state.messageEmail,\n      onChange: this.handlerEmail,\n      type: \"text\",\n      placeholder: \"ejemplo@dominio.com\",\n      label: \"Correo*\",\n      onBlur: this.validateEmail,\n      warningMessage: this.state.warningEmail,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-lg-6 mt-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(InputForm, {\n      pattern: \"[0-9]*\",\n      inputColor: \"-secondary\",\n      warning: \"N\\xFAmero no v\\xE1lido\",\n      onChange: this.handlerPhone,\n      type: \"tel\",\n      placeholder: \"(55) 555 55 555\",\n      label: \"Tel\\xE9fono*\",\n      onBlur: this.validatePhone,\n      warningMessage: this.state.warningPhone,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-lg-6 mt-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(InputForm, {\n      inputColor: \"-secondary\",\n      warning: \"Datos no v\\xE1lidos\",\n      onChange: this.handlerCompany,\n      type: \"text\",\n      label: \"Empresa*\",\n      onBlur: this.validateCompany,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-lg-6 mt-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(InputForm, {\n      inputColor: \"-secondary\",\n      warning: this.state.messagePassword,\n      onChange: this.handlerPassword,\n      type: \"password\",\n      label: \"Contrase\\xF1a*\",\n      onBlur: this.validatePassword,\n      warningMessage: this.state.warningPassword,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"mt-50\",\n      type: \"checkbox\",\n      name: \"vehicle1\",\n      value: \"Bike\",\n      required: true,\n      onChange: this.validateTerms,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), \" He leido y estoy de acuerdo con los \", React.createElement(\"a\", {\n      href: \"/terms\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"T\\xE9rminos y condiciones\"))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(ButtonSubmit, {\n      title: \"Registrarme\",\n      customClass: \"mt-50\",\n      disabled: this.state.invalid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/home/cesar/Desktop/Riesgo_Cognitivo/frontend/src/pages/Register.jsx"],"names":["React","Component","Navbarmenu","ButtonSubmit","InputForm","axios","Redirect","ContactTopBar","API_URL","process","env","REACT_APP_API_URL","re_email","re_phone","Register","constructor","props","componentDidUpdate","state","invalid","termsChecked","validEmail","validPhone","name","length","lastname","company","password","setState","handlerName","event","target","value","handlerLastName","handlerEmail","email","handlerPhone","phone","handlerCompany","handlerPassword","registerUser","preventDefault","post","user_metadata","blocked","email_verified","app_metadata","given_name","family_name","connection","verify_email","then","res","data","redirect","warning","statusCode","messagePassword","warningPassword","messageEmail","warningEmail","validateEmail","test","validatePhone","warningPhone","validatePassword","validateName","validateLastName","validateCompany","validateTerms","checked","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Navbarmenu from '../components/Navbarmenu/Navbarmenu'\nimport { ButtonSubmit } from '../components/Button/Button'\nimport InputForm from '../components/InputForm/InputForm'\nimport axios from 'axios'\nimport { Redirect } from 'react-router-dom'\nimport ContactTopBar from '../components/ContactTopBar/ContactTopBar'\n\nconst API_URL = process.env.REACT_APP_API_URL\nconst re_email = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst re_phone = /^\\d+$/;\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: \"\",\n      lastname: \"\",\n      email: \"\",\n      phone: \"\",\n      company: \"\",\n      password: \"\",\n      redirect: false,\n      validEmail: false,\n      validPhone: false,\n      // validPassword: true,\n      warningEmail: \"\",\n      warningPhone: \"\",\n      warningPassword: \"\",\n      messageEmail: \"Correo no válido\",\n      messagePassword: \"Contraseña no válida\",\n      invalid: true,\n      termsChecked: false\n    }\n  }\n\n  componentDidUpdate = () => {\n    if (this.state.invalid && this.state.termsChecked && this.state.validEmail && this.state.validPhone && this.state.name.length > 0 && this.state.lastname.length > 0 && this.state.company.length > 0 && this.state.password.length > 0) {      \n      this.setState({\n        invalid: false\n      })\n    }\n  }\n\n  handlerName = (event) => {\n    this.setState({ name: event.target.value })\n  }\n\n  handlerLastName = (event) => {\n    this.setState({ lastname: event.target.value })\n  }\n\n  handlerEmail = (event) => {\n    this.setState({ email: event.target.value })\n  }\n\n  handlerPhone = (event) => {\n    this.setState({ phone: event.target.value })\n  }\n\n  handlerCompany = (event) => {\n    this.setState({ company: event.target.value })\n  }\n\n  handlerPassword = (event) => {\n    this.setState({ password: event.target.value })\n  }\n\n  registerUser = (event) => {\n    event.preventDefault();\n    \n    axios.post(API_URL + \"/api/v1/register/user\", {\n      email: this.state.email,\n      user_metadata: {},\n      blocked: false,\n      email_verified: false,\n      app_metadata: {},\n      given_name: this.state.name,\n      family_name: this.state.lastname,\n      name: this.state.name + \" \" + this.state.lastname,\n      connection: \"Username-Password-Authentication\",\n      password: this.state.password,\n      verify_email: false\n    }).then((res) => {\n      if (res.data.email === this.state.email) {\n        this.setState({redirect: true})\n      }\n      else {\n        var warning;\n        switch (res.data.statusCode) {\n          case 400:\n            warning = \"Contraseña muy débil\"\n            this.setState({\n              messagePassword: warning,\n              warningPassword: \" -warning\"\n            })\n            break;\n          case 409:\n            warning = \"Usuario ya existe en la base de datos\";\n            this.setState({\n              messageEmail: warning,\n              warningEmail: \" -warning\"\n            })\n            break;\n          default:\n            warning = \"Hubo un error con tu registro\";\n            this.setState({\n              messagePassword: warning,\n              warningPassword: \" -warning\"\n            })\n        }\n      }\n    })\n  }\n\n  validateEmail = () => {\n    if (!re_email.test(this.state.email)) {\n      this.setState({ \n        warningEmail: \" -warning\",\n        messageEmail: \"Correo no válido\",\n        validEmail: false,\n        invalid: true\n      })\n    }\n    else {\n      this.setState({ \n        warningEmail: \"\",\n        messageEmail: \"Correo no válido\",\n        validEmail: true\n      })\n    }\n  }\n\n  validatePhone = () => {\n    if (!re_phone.test(this.state.phone)) {\n      this.setState({ \n        warningPhone: \" -warning\",\n        validPhone: false,\n        invalid: true\n      })\n    }\n    else {\n      this.setState({ \n        warningPhone: \"\",\n        validPhone: true\n      })\n    }\n  }\n\n  validatePassword = () => {\n    this.setState({ warningPassword: \"\" });\n\n    if (this.state.password.length <= 0) {\n      this.setState({\n        invalid: true\n      })\n    }\n  }\n\n  validateName = () => {\n    if (this.state.name.length <= 0) {\n      this.setState({\n        invalid: true\n      })\n    }\n  }\n\n  validateLastName = () => {\n    if (this.state.lastname.length <= 0) {\n      this.setState({\n        invalid: true\n      })\n    }\n  }\n\n  validateCompany = () => {\n    if (this.state.company.length <= 0) {\n      this.setState({\n        invalid: true\n      })\n    }\n  }\n\n  validateTerms = (event) => {\n    if (event.target.checked) {\n      this.setState({\n        termsChecked: true\n      })\n    }\n    else {\n      this.setState({\n        termsChecked: false,\n        invalid: true\n      })\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to='/confirmation' />\n    }\n    return(\n      <React.Fragment>\n        <ContactTopBar/>\n        <Navbarmenu {...this.props}/>\n        <div className=\"container mt-90\">\n          <div className=\"row d-flex\">\n            <div className=\"col-12 mt-50\">\n              <a href=\"/landing\" className=\"button -fabtn\"><i class=\"fas fa-arrow-left\"></i></a>\n            </div>\n          </div>\n\n          <div className=\"row d-flex\">\n            <div className=\"col-12\">\n              <p className=\"title mt-30\">REGISTRO</p>\n            </div>\n          </div>\n\n          <form onSubmit={this.registerUser}>\n            <div className=\"row d-flex\">\n              <div className=\"col-12 col-lg-6 mt-50\">\n                <InputForm inputColor=\"-secondary\" warning=\"Datos no válidos\" onChange={this.handlerName} type=\"text\" label='Nombre*' onBlur={this.validateName} required/>\n              </div>\n\n              <div className=\"col-12 col-lg-6 mt-50\">\n                <InputForm inputColor=\"-secondary\" warning=\"Datos no válidos\" onChange={this.handlerLastName} type=\"text\" label='Apellidos*' onBlur={this.validateLastName} required/>\n              </div>\n\n              <div className=\"col-12 col-lg-6 mt-50\">\n                <InputForm inputColor=\"-secondary\" warning={this.state.messageEmail} onChange={this.handlerEmail} type=\"text\" placeholder=\"ejemplo@dominio.com\" label='Correo*' onBlur={this.validateEmail} warningMessage={this.state.warningEmail} required/>\n              </div>\n\n              <div className=\"col-12 col-lg-6 mt-50\">\n                <InputForm pattern=\"[0-9]*\" inputColor=\"-secondary\" warning=\"Número no válido\" onChange={this.handlerPhone} type=\"tel\" placeholder=\"(55) 555 55 555\" label='Teléfono*' onBlur={this.validatePhone} warningMessage={this.state.warningPhone} required/>\n              </div>\n\n              <div className=\"col-12 col-lg-6 mt-50\">\n                <InputForm inputColor=\"-secondary\" warning=\"Datos no válidos\" onChange={this.handlerCompany} type=\"text\" label='Empresa*' onBlur={this.validateCompany} required/>\n              </div>\n\n              <div className=\"col-12 col-lg-6 mt-50\">\n                <InputForm inputColor=\"-secondary\" warning={this.state.messagePassword} onChange={this.handlerPassword} type=\"password\" label='Contraseña*' onBlur={this.validatePassword} warningMessage={this.state.warningPassword} required/>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <input className=\"mt-50\" type=\"checkbox\" name=\"vehicle1\" value=\"Bike\" required onChange={this.validateTerms}/> He leido y estoy de acuerdo con los <a href=\"/terms\">Términos y condiciones</a>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-12 col-lg-4\">\n                {/* <button type=\"submit\">hola</button> */}\n                <ButtonSubmit title=\"Registrarme\" customClass=\"mt-50\" disabled={this.state.invalid}/>\n              </div>\n            </div>\n          </form>\n\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}