{"ast":null,"code":"var _jsxFileName = \"/home/cesar/Desktop/Riesgo_Cognitivo/frontend/src/pages/Pay.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport jwtDecode from 'jwt-decode';\nimport axios from 'axios';\nimport { FaArrowLeft, FaExchangeAlt } from 'react-icons/fa';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { ButtonSubmit, ButtonPrimary } from '../components/Button/Button';\nimport AmexLogo from \"../img/Amex.svg\";\nimport CarnetLogo from \"../img/Carnet.svg\";\nimport VisaLogo from \"../img/Visa.svg\";\nimport MasterLogo from \"../img/Master.svg\";\nimport OpenPayLogo from \"../img/logo_openpay.svg\";\nimport InputForm from '../components/InputForm/InputForm';\nimport Navbarmenu from '../components/Navbarmenu/Navbarmenu';\nimport SelectPlan from '../pages/SelectPlan';\nconst API_URL = process.env.REACT_APP_API_URL;\nconst re_email = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst re_card = /^\\d+$/;\nwindow.OpenPay.setId('mec335nw7tdv7ozibwhe');\nwindow.OpenPay.setApiKey('pk_f8b6680f9ae64335a1f8aedafec8c4f4');\nwindow.OpenPay.setSandboxMode(true);\n\nclass Pay extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.setState({\n        select_plan: this.props.select_plan\n      });\n    };\n\n    this.componentDidUpdate = () => {\n      if (this.state.invalid && this.state.termsChecked && this.state.validEmail && this.state.validCard && this.state.validMonth && this.state.validYear && this.state.validCvv && this.state.name.length > 0 && this.state.lastname.length > 0) {\n        this.setState({\n          invalid: false\n        });\n      }\n    };\n\n    this.updateRole = event => {\n      let acPrice = '0';\n\n      switch (event.target.value) {\n        case 'basico':\n          acPrice = '200';\n          break;\n\n        case 'intermedio':\n          acPrice = '300';\n          break;\n\n        case 'pro':\n          acPrice = '400';\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        role: event.target.value,\n        price: acPrice\n      });\n    };\n\n    this.payRole = async () => {\n      switch (this.state.plan) {\n        case \"básico\":\n          var plan = \"basico\";\n          break;\n\n        case \"intermedio\":\n          var plan = \"intermedio\";\n          break;\n\n        case \"avanzado\":\n          var plan = \"pro\";\n          break;\n      }\n\n      if (localStorage.getItem(\"id_token\")) {\n        const options = {\n          heders: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: {\n            'role': plan,\n            'user_id': jwtDecode(localStorage.getItem(\"id_token\")).sub\n          }\n        };\n        axios.post(API_URL + \"/api/v1/change_role\", {\n          data: options\n        }).then(res => {\n          localStorage.setItem(\"role\", plan);\n          this.props.checkRole().then(() => {\n            this.setState({\n              redirect: true\n            });\n          });\n        });\n      }\n    };\n\n    this.chargeOpenPay = ev => {\n      ev.preventDefault();\n      window.OpenPay.token.create({\n        \"card_number\": this.state.card,\n        \"holder_name\": this.state.name + \" \" + this.state.lastname,\n        \"expiration_year\": this.state.year,\n        \"expiration_month\": this.state.month,\n        \"cvv2\": this.state.cvv\n      }, this.onSuccess, this.onError);\n    };\n\n    this.onSuccess = response => {\n      console.log(response);\n\n      switch (this.state.plan) {\n        case \"básico\":\n          var plan = 0;\n          break;\n\n        case \"intermedio\":\n          var plan = 1;\n          break;\n\n        case \"avanzado\":\n          var plan = 2;\n          break;\n      }\n\n      var token_id = response.data.id;\n      axios.post(\"https://us-central1-monitoreo-empresas.cloudfunctions.net/Risk-Subscription\", {\n        name: this.state.name,\n        last_name: this.state.lastname,\n        email: this.state.email,\n        package: plan,\n        token: token_id,\n        device_session_id: window.OpenPay.deviceData.setup()\n      }).then(res => {\n        console.log(res);\n        this.setState({\n          modal_title: \"Transacción exitosa\",\n          modal_text: \"Su pago se ha realizado con éxito.\",\n          button_continue: true\n        });\n        this.toggleModal();\n      }).catch(error => {\n        this.setState({\n          modal_title: \"Error en el Pago\",\n          button_continue: false\n        });\n\n        switch (error.response.data.error_code) {\n          case 3001:\n            this.setState({\n              modal_text: \"Su tarjeta fue declinada.\"\n            });\n            break;\n\n          case 3002:\n            this.setState({\n              modal_text: \"Su tarjeta está expirada.\"\n            });\n            break;\n\n          case 3003:\n            this.setState({\n              modal_text: \"Su tarjeta no tiene los fondos suficientes.\"\n            });\n            break;\n\n          case 3004:\n            this.setState({\n              modal_text: \"Su tarjeta aparece como robada.\"\n            });\n            break;\n\n          case 3005:\n            this.setState({\n              modal_text: \"Su tarjeta fue rechazada por el sistema antifraude.\"\n            });\n            break;\n\n          case 3006:\n            this.setState({\n              modal_text: \"La operación no es permitida para este usuario o transacción.\"\n            });\n\n          case 3008:\n            this.setState({\n              modal_text: \"Su tarjeta no permite transacciones en línea.\"\n            });\n            break;\n\n          case 3009:\n            this.setState({\n              modal_text: \"Su tarjeta aparece como perdida.\"\n            });\n\n          case 3010:\n            this.setState({\n              modal_text: \"La tarjeta fue rechazada por su banco.\"\n            });\n\n          case 3011:\n            this.setState({\n              modal_text: \"El banco pidió retener su tarjeta, por favor comuníquese con su banco.\"\n            });\n\n          case 3012:\n            this.setState({\n              modal_text: \"Se requiere autorización de su banco para realizar la transacción.\"\n            });\n\n          default:\n            this.setState({\n              modal_text: \"Hubo un error en su forma de pago.\"\n            });\n            break;\n        }\n\n        this.toggleModal();\n      });\n    };\n\n    this.onError = response => {\n      console.log(response);\n    };\n\n    this.changePlan = () => {\n      this.setState({\n        select_plan: true\n      });\n    };\n\n    this._setState = state => {\n      this.setState(state);\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/welcome\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.handlerName = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.handlerLastName = event => {\n      this.setState({\n        lastname: event.target.value\n      });\n    };\n\n    this.handlerEmail = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlerCard = event => {\n      this.setState({\n        card: event.target.value\n      });\n    };\n\n    this.handlerMonth = event => {\n      this.setState({\n        month: event.target.value\n      });\n    };\n\n    this.handlerYear = event => {\n      this.setState({\n        year: event.target.value\n      });\n    };\n\n    this.handlerCvv = event => {\n      this.setState({\n        cvv: event.target.value\n      });\n    };\n\n    this.validateEmail = () => {\n      if (!re_email.test(this.state.email)) {\n        this.setState({\n          warningEmail: \" -warning\",\n          messageEmail: \"Correo no válido\",\n          validEmail: false,\n          invalid: true\n        });\n      } else {\n        this.setState({\n          warningEmail: \"\",\n          messageEmail: \"Correo no válido\",\n          validEmail: true\n        });\n      }\n    };\n\n    this.validateCard = () => {\n      if (!re_card.test(this.state.card)) {\n        this.setState({\n          warningCard: \" -warning\",\n          validCard: false,\n          invalid: true\n        });\n      } else {\n        this.setState({\n          warningCard: \"\",\n          validCard: true\n        });\n      }\n    };\n\n    this.validateMonth = () => {\n      if (!re_card.test(this.state.month)) {\n        this.setState({\n          warningMonth: \" -warning\",\n          validMonth: false,\n          invalid: true\n        });\n      } else {\n        this.setState({\n          warningMonth: \"\",\n          validMonth: true\n        });\n      }\n    };\n\n    this.validateYear = () => {\n      if (!re_card.test(this.state.year)) {\n        this.setState({\n          warningYear: \" -warning\",\n          validYear: false,\n          invalid: true\n        });\n      } else {\n        this.setState({\n          warningYear: \"\",\n          validYear: true\n        });\n      }\n    };\n\n    this.validateCvv = () => {\n      if (!re_card.test(this.state.cvv)) {\n        this.setState({\n          warningCvv: \" -warning\",\n          validCvv: false,\n          invalid: true\n        });\n      } else {\n        this.setState({\n          warningCvv: \"\",\n          validCvv: true\n        });\n      }\n    };\n\n    this.validateTerms = event => {\n      if (event.target.checked) {\n        this.setState({\n          termsChecked: true\n        });\n      } else {\n        this.setState({\n          termsChecked: false,\n          invalid: true\n        });\n      }\n    };\n\n    this.state = {\n      role: '',\n      price: '10',\n      redirect: false,\n      select_plan: false,\n      plan: \"básico\",\n      name: \"\",\n      lastname: \"\",\n      email: \"\",\n      card: \"\",\n      month: \"\",\n      year: \"\",\n      cvv: \"\",\n      modal: false,\n      modal_text: \"\",\n      modal_title: \"\",\n      button_continue: false,\n      invalid: true,\n      validEmail: false,\n      validCard: false,\n      validMonth: false,\n      validYear: false,\n      validCvv: false,\n      termsChecked: false,\n      warningEmail: \"\",\n      warningCard: \"\",\n      warningMonth: \"\",\n      warningYear: \"\",\n      warningCvv: \"\"\n    };\n  }\n\n  toggleModal() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  render() {\n    if (this.state.select_plan) {\n      return React.createElement(SelectPlan, Object.assign({\n        plan: this.state.plan,\n        setState: this._setState\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411\n        },\n        __self: this\n      }, this.renderRedirect(), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        centered: true,\n        isOpen: this.state.modal,\n        toggle: () => this.toggleModa(),\n        className: this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: () => this.toggleModal(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      }, this.state.modal_title), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      }, this.state.modal_text), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, !this.state.button_continue && React.createElement(ButtonPrimary, {\n        onClick: () => this.toggleModal(),\n        title: \"Cerrar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }), this.state.button_continue && React.createElement(ButtonPrimary, {\n        onClick: () => this.payRole(),\n        title: \"Continuar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      })))), React.createElement(Navbarmenu, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"container mt-90\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 mt-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/landing\",\n        className: \"button -fabtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-arrow-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"row d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"title my-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, \"M\\xC9TODO DE PAGO\"))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, \"Aceptamos cualquier tarjeta de d\\xE9bito/cr\\xE9dito\"), React.createElement(\"div\", {\n        className: \"d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"mr-10 mb-10\",\n        src: AmexLogo,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        className: \"mr-10 mb-10\",\n        src: CarnetLogo,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        className: \"mr-10 mb-10\",\n        src: VisaLogo,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        className: \"mr-10 mb-10\",\n        src: MasterLogo,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      })))), React.createElement(\"form\", {\n        onSubmit: this.chargeOpenPay,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, React.createElement(InputForm, {\n        inputColor: \"-secondary\",\n        customClasses: \"mt-50\",\n        warning: \"Datos no v\\xE1lidos\",\n        type: \"text\",\n        label: \"Nombre como aparece en la tarjeta\",\n        onChange: this.handlerName,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }, React.createElement(InputForm, {\n        inputColor: \"-secondary\",\n        customClasses: \"mt-50\",\n        warning: \"Datos no v\\xE1lidos\",\n        type: \"text\",\n        label: \"Apellido como aparece en la tarjeta\",\n        onChange: this.handlerLastName,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }))), React.createElement(InputForm, {\n        inputColor: \"-secondary\",\n        customClasses: \"mt-50\",\n        warning: \"Correo no v\\xE1lido\",\n        type: \"text\",\n        label: \"Correo electr\\xF3nico\",\n        onChange: this.handlerEmail,\n        onBlur: this.validateEmail,\n        warningMessage: this.state.warningEmail,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }), React.createElement(InputForm, {\n        inputColor: \"-secondary\",\n        customClasses: \"mt-50\",\n        warning: \"N\\xFAmero de tarjeta no v\\xE1lido\",\n        type: \"text\",\n        label: \"N\\xFAmero de tarjeta\",\n        onChange: this.handlerCard,\n        onBlur: this.validateCard,\n        warningMessage: this.state.warningCard,\n        maxLength: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, React.createElement(InputForm, {\n        inputColor: \"-secondary\",\n        customClasses: \"mt-50\",\n        warning: \"Mes no v\\xE1lido\",\n        type: \"text\",\n        placeholder: \"MM\",\n        label: \"Mes de vencimiento\",\n        onChange: this.handlerMonth,\n        onBlur: this.validateMonth,\n        warningMessage: this.state.warningMonth,\n        maxLength: \"2\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }, React.createElement(InputForm, {\n        inputColor: \"-secondary\",\n        customClasses: \"mt-50\",\n        warning: \"A\\xF1o no v\\xE1lido\",\n        type: \"text\",\n        placeholder: \"AA\",\n        label: \"A\\xF1o de vencimiento\",\n        onChange: this.handlerYear,\n        onBlur: this.validateYear,\n        warningMessage: this.state.warningYear,\n        maxLength: \"2\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-lg-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, React.createElement(InputForm, {\n        inputColor: \"-secondary\",\n        customClasses: \"mt-50\",\n        warning: \"CVV no v\\xE1lido\",\n        type: \"text\",\n        placeholder: \"CVV\",\n        label: \"N\\xFAmero de validaci\\xF3n\",\n        onChange: this.handlerCvv,\n        onBlur: this.validateCvv,\n        warningMessage: this.state.warningCvv,\n        maxLength: \"4\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"col-12 col-lg-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-card -dark mt-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484\n        },\n        __self: this\n      }, \"Resumen\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }, \"Plan \", this.state.plan), React.createElement(\"p\", {\n        className: \"higlight-big mb-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, \"$\", this.state.price, \".\", React.createElement(\"sup\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, \"00\")), React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.changePlan,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488\n        },\n        __self: this\n      }, \"CAMBIAR PLAN \", React.createElement(\"i\", {\n        class: \"fas fa-long-arrow-alt-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-lg-6 mt-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, \"Tu compra est\\xE1 asegurada a trav\\xE9s de \", React.createElement(\"a\", {\n        target: \"blank\",\n        href: \"https://www.openpay.mx/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, \"Open pay\"), \" un vendedor certificado \"), React.createElement(\"img\", {\n        className: \"mr-10 mb-10\",\n        src: OpenPayLogo,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"mt-50\",\n        type: \"checkbox\",\n        name: \"vehicle1\",\n        value: \"Bike\",\n        required: true,\n        onChange: this.validateTerms,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503\n        },\n        __self: this\n      }), \" He leido y estoy de acuerdo con los \", React.createElement(\"a\", {\n        href: \"/terms\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503\n        },\n        __self: this\n      }, \"T\\xE9rminos y condiciones\"))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-lg-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508\n        },\n        __self: this\n      }, React.createElement(ButtonSubmit, {\n        title: \"Pagar\",\n        customClass: \"my-30\",\n        disabled: this.state.invalid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509\n        },\n        __self: this\n      }))))));\n    }\n  }\n\n}\n\nexport default Pay;","map":{"version":3,"sources":["/home/cesar/Desktop/Riesgo_Cognitivo/frontend/src/pages/Pay.jsx"],"names":["React","Component","Redirect","jwtDecode","axios","FaArrowLeft","FaExchangeAlt","Modal","ModalHeader","ModalBody","ModalFooter","ButtonSubmit","ButtonPrimary","InputForm","Navbarmenu","SelectPlan","API_URL","process","env","REACT_APP_API_URL","re_email","re_card","window","OpenPay","setId","setApiKey","setSandboxMode","Pay","constructor","props","componentDidMount","setState","select_plan","componentDidUpdate","state","invalid","termsChecked","validEmail","validCard","validMonth","validYear","validCvv","name","length","lastname","updateRole","event","acPrice","target","value","role","price","payRole","plan","localStorage","getItem","options","heders","body","sub","post","data","then","res","setItem","checkRole","redirect","chargeOpenPay","ev","preventDefault","token","create","card","year","month","cvv","onSuccess","onError","response","console","log","token_id","id","last_name","email","package","device_session_id","deviceData","setup","modal_title","modal_text","button_continue","toggleModal","catch","error","error_code","changePlan","_setState","renderRedirect","handlerName","handlerLastName","handlerEmail","handlerCard","handlerMonth","handlerYear","handlerCvv","validateEmail","test","warningEmail","messageEmail","validateCard","warningCard","validateMonth","warningMonth","validateYear","warningYear","validateCvv","warningCvv","validateTerms","checked","modal","render","toggleModa","className","AmexLogo","CarnetLogo","VisaLogo","MasterLogo","OpenPayLogo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {Redirect} from 'react-router-dom'\nimport jwtDecode from 'jwt-decode'\nimport axios from 'axios'\nimport {\n  FaArrowLeft,\n  FaExchangeAlt\n  } from 'react-icons/fa'\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport {\n  ButtonSubmit,\n  ButtonPrimary } from '../components/Button/Button'\nimport AmexLogo from '../img/Amex.svg'\nimport CarnetLogo from '../img/Carnet.svg'\nimport VisaLogo from '../img/Visa.svg'\nimport MasterLogo from '../img/Master.svg'\nimport OpenPayLogo from '../img/logo_openpay.svg'\nimport InputForm from '../components/InputForm/InputForm'\nimport Navbarmenu from '../components/Navbarmenu/Navbarmenu'\nimport SelectPlan from '../pages/SelectPlan'\n\nconst API_URL = process.env.REACT_APP_API_URL\nconst re_email = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst re_card = /^\\d+$/;\n\nwindow.OpenPay.setId('mec335nw7tdv7ozibwhe');\nwindow.OpenPay.setApiKey('pk_f8b6680f9ae64335a1f8aedafec8c4f4');\nwindow.OpenPay.setSandboxMode(true);\n\nclass Pay extends Component{\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      role:'',\n      price: '10',\n      redirect: false,\n      select_plan: false,\n      plan: \"básico\",\n      name: \"\",\n      lastname: \"\",\n      email: \"\",\n      card: \"\",\n      month: \"\",\n      year: \"\",\n      cvv: \"\",\n      modal: false,\n      modal_text: \"\",\n      modal_title: \"\",\n      button_continue: false,\n      invalid: true,\n      validEmail: false,\n      validCard: false,\n      validMonth: false,\n      validYear: false,\n      validCvv: false,\n      termsChecked: false,\n      warningEmail: \"\",\n      warningCard: \"\",\n      warningMonth: \"\",\n      warningYear: \"\",\n      warningCvv: \"\"\n    }\n  }\n\n  componentDidMount = () => {\n    this.setState({select_plan: this.props.select_plan})\n  }\n\n  componentDidUpdate = () => {\n    if (this.state.invalid && this.state.termsChecked && this.state.validEmail && this.state.validCard && this.state.validMonth && this.state.validYear && this.state.validCvv && this.state.name.length > 0 && this.state.lastname.length > 0) {\n      this.setState({\n        invalid: false\n      })\n    }\n  }\n\n  updateRole = (event) => {\n\n    let acPrice = '0'\n\n    switch(event.target.value){\n      case 'basico':\n        acPrice = '200'\n        break;\n      case 'intermedio':\n        acPrice = '300'\n        break;\n      case 'pro':\n        acPrice = '400'\n        break;\n      default:\n        break;\n    }\n\n    this.setState({\n      role: event.target.value,\n      price: acPrice\n    })\n  }\n\n  payRole = async () => {\n    \n    switch (this.state.plan) {\n      case \"básico\":\n        var plan = \"basico\";\n        break\n      case \"intermedio\":\n        var plan = \"intermedio\";\n        break\n      case \"avanzado\":\n        var plan = \"pro\";\n        break\n    }\n\n\n      \n      if (localStorage.getItem(\"id_token\")){\n\n        const options = {\n          heders:{\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n          },\n          body: {\n            'role':plan,\n            'user_id':jwtDecode(localStorage.getItem(\"id_token\")).sub\n          }\n        }\n  \n        axios.post(API_URL + \"/api/v1/change_role\", {\n          data: options\n        }).then((res) => {\n  \n          localStorage.setItem(\"role\", plan);\n          \n          this.props.checkRole().then(() => {\n            this.setState({\n              redirect:true\n            })\n          })\n\n        });\n      }\n  }\n\n  chargeOpenPay = (ev) => {\n    ev.preventDefault();\n    window.OpenPay.token.create({\n      \"card_number\": this.state.card,\n      \"holder_name\": this.state.name + \" \" + this.state.lastname,\n      \"expiration_year\": this.state.year,\n      \"expiration_month\": this.state.month,\n      \"cvv2\": this.state.cvv\n    }, this.onSuccess, this.onError);\n  }\n\n  onSuccess = (response) => {\n    console.log(response);\n    switch (this.state.plan) {\n      case \"básico\":\n        var plan = 0;\n        break\n      case \"intermedio\":\n        var plan = 1;\n        break\n      case \"avanzado\":\n        var plan = 2;\n        break\n    }\n\n    var token_id =  response.data.id;\n    axios.post(\"https://us-central1-monitoreo-empresas.cloudfunctions.net/Risk-Subscription\", {\n      name: this.state.name,\n      last_name: this.state.lastname,\n      email: this.state.email,\n      package: plan,\n      token: token_id,\n      device_session_id: window.OpenPay.deviceData.setup()\n    }).then((res) => {\n      console.log(res);\n      this.setState({\n        modal_title: \"Transacción exitosa\",\n        modal_text: \"Su pago se ha realizado con éxito.\",\n        button_continue: true\n      })\n      this.toggleModal();\n    }).catch((error) => {\n      this.setState({\n        modal_title: \"Error en el Pago\",\n        button_continue: false\n      })\n      switch(error.response.data.error_code) {\n        case 3001:\n          this.setState({\n            modal_text: \"Su tarjeta fue declinada.\"\n          })\n          break;\n        case 3002:\n          this.setState({\n            modal_text: \"Su tarjeta está expirada.\"\n          })\n          break;\n        case 3003:\n          this.setState({\n            modal_text: \"Su tarjeta no tiene los fondos suficientes.\"\n          })\n          break;\n        case 3004:\n          this.setState({\n            modal_text: \"Su tarjeta aparece como robada.\"\n          })\n          break;\n        case 3005:\n          this.setState({\n            modal_text: \"Su tarjeta fue rechazada por el sistema antifraude.\"\n          })\n          break;\n        case 3006:\n          this.setState({\n            modal_text: \"La operación no es permitida para este usuario o transacción.\"\n          })\n        case 3008:\n          this.setState({\n            modal_text: \"Su tarjeta no permite transacciones en línea.\"\n          })\n          break;\n        case 3009:\n          this.setState({\n            modal_text: \"Su tarjeta aparece como perdida.\"\n          })\n        case 3010:\n          this.setState({\n            modal_text: \"La tarjeta fue rechazada por su banco.\"\n          })\n        case 3011:\n          this.setState({\n            modal_text: \"El banco pidió retener su tarjeta, por favor comuníquese con su banco.\"\n          })\n        case 3012:\n          this.setState({\n            modal_text: \"Se requiere autorización de su banco para realizar la transacción.\"\n          })\n        default:\n          this.setState({\n            modal_text: \"Hubo un error en su forma de pago.\"\n          })\n          break\n      }\n      this.toggleModal();\n    })\n  }\n\n  onError = (response) => {\n    console.log(response);\n  }\n\n  changePlan = () => {\n    this.setState({select_plan: true})\n  }\n\n  _setState = (state) => {\n    this.setState(state);\n  }\n\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      return <Redirect to='/welcome' />\n    }\n  }\n\n  handlerName = (event) => {\n    this.setState({ name: event.target.value })\n  }\n\n  handlerLastName = (event) => {\n    this.setState({ lastname: event.target.value })\n  }\n\n  handlerEmail = (event) => {\n    this.setState({ email: event.target.value })\n  }\n\n  handlerCard = (event) => {\n    this.setState({ card: event.target.value })\n  }\n\n  handlerMonth = (event) => {\n    this.setState({ month: event.target.value })\n  }\n\n  handlerYear = (event) => {\n    this.setState({ year: event.target.value })\n  }\n\n  handlerCvv = (event) => {\n    this.setState({ cvv: event.target.value })\n  }\n\n  toggleModal() {\n    this.setState({\n      modal: !this.state.modal\n    })\n  }\n\n  validateEmail = () => {\n    if (!re_email.test(this.state.email)) {\n      this.setState({\n        warningEmail: \" -warning\",\n        messageEmail: \"Correo no válido\",\n        validEmail: false,\n        invalid: true\n      })\n    }\n    else {\n      this.setState({\n        warningEmail: \"\",\n        messageEmail: \"Correo no válido\",\n        validEmail: true\n      })\n    }\n  }\n\n  validateCard = () => {\n    if (!re_card.test(this.state.card)) {\n      this.setState({\n        warningCard: \" -warning\",\n        validCard: false,\n        invalid: true\n      })\n    }\n    else {\n      this.setState({\n        warningCard: \"\",\n        validCard: true\n      })\n    }\n  }\n\n  validateMonth = () => {\n    if (!re_card.test(this.state.month)) {\n      this.setState({\n        warningMonth: \" -warning\",\n        validMonth: false,\n        invalid: true\n      })\n    }\n    else {\n      this.setState({\n        warningMonth: \"\",\n        validMonth: true\n      })\n    }\n  }\n\n  validateYear = () => {\n    if (!re_card.test(this.state.year)) {\n      this.setState({\n        warningYear: \" -warning\",\n        validYear: false,\n        invalid: true\n      })\n    }\n    else {\n      this.setState({\n        warningYear: \"\",\n        validYear: true\n      })\n    }\n  }\n\n  validateCvv = () => {\n    if (!re_card.test(this.state.cvv)) {\n      this.setState({\n        warningCvv: \" -warning\",\n        validCvv: false,\n        invalid: true\n      })\n    }\n    else {\n      this.setState({\n        warningCvv: \"\",\n        validCvv: true\n      })\n    }\n  }\n\n  validateTerms = (event) => {\n    if (event.target.checked) {\n      this.setState({\n        termsChecked: true\n      })\n    }\n    else {\n      this.setState({\n        termsChecked: false,\n        invalid: true\n      })\n    }\n  }\n\n  render() {\n    if (this.state.select_plan) {\n      return(\n        <SelectPlan plan={this.state.plan} setState={this._setState} {...this.props}/>\n      )\n    }\n    else {\n      return(\n        <div>\n        { this.renderRedirect() }\n          <div>\n            <Modal centered={true} isOpen={this.state.modal} toggle={() => this.toggleModa()} className={this.props.className}>\n              <ModalHeader toggle={() => this.toggleModal()}>{this.state.modal_title}</ModalHeader>\n              <ModalBody>\n                {this.state.modal_text}\n              </ModalBody>\n              <ModalFooter>\n                {!this.state.button_continue &&\n                  <ButtonPrimary onClick={() => this.toggleModal()} title=\"Cerrar\"></ButtonPrimary>\n                }\n                {this.state.button_continue &&\n                  <ButtonPrimary onClick={() => this.payRole()} title=\"Continuar\"></ButtonPrimary>\n                }\n              </ModalFooter>\n            </Modal>\n          </div>\n          <Navbarmenu {...this.props}/>\n          <div className=\"container mt-90\">\n            <div className=\"row d-flex\">\n              <div className=\"col-12 mt-50\">\n                <a href=\"/landing\" className=\"button -fabtn\"><i class=\"fas fa-arrow-left\"></i></a>\n              </div>\n            </div>\n  \n            <div className=\"row d-flex\">\n              <div className=\"col-12\">\n                <p className=\"title my-30\">MÉTODO DE PAGO</p>\n              </div>\n            </div>\n  \n            <div className=\"row\">\n              <div className=\"col-12 col-lg-6\">              \n                <p>Aceptamos cualquier tarjeta de débito/crédito</p>\n                <div className=\"d-flex\">\n                  <img className=\"mr-10 mb-10\" src={ AmexLogo } alt=\"\"/>\n                  <img className=\"mr-10 mb-10\" src={ CarnetLogo } alt=\"\"/>\n                  <img className=\"mr-10 mb-10\" src={ VisaLogo } alt=\"\"/>\n                  <img className=\"mr-10 mb-10\" src={ MasterLogo } alt=\"\"/>\n                </div>                    \n              </div>\n            </div>\n            <form onSubmit={this.chargeOpenPay}>\n              <div className=\"row\">\n                <div className=\"col-12 col-lg-6\">\n                  <div className=\"row\">\n                    <div className=\"col-12 col-lg-6\">\n                      <InputForm inputColor=\"-secondary\" customClasses=\"mt-50\" warning=\"Datos no válidos\" type=\"text\" label=\"Nombre como aparece en la tarjeta\" onChange={this.handlerName} required/>\n                    </div>\n                    <div className=\"col-12 col-lg-6\">\n                      <InputForm inputColor=\"-secondary\" customClasses=\"mt-50\" warning=\"Datos no válidos\" type=\"text\" label=\"Apellido como aparece en la tarjeta\" onChange={this.handlerLastName} required/>\n                    </div>\n                  </div>\n                  <InputForm inputColor=\"-secondary\" customClasses=\"mt-50\" warning=\"Correo no válido\" type=\"text\" label=\"Correo electrónico\" onChange={this.handlerEmail} onBlur={this.validateEmail} warningMessage={this.state.warningEmail} required/>\n                  <InputForm inputColor=\"-secondary\" customClasses=\"mt-50\" warning=\"Número de tarjeta no válido\" type=\"text\" label=\"Número de tarjeta\" onChange={this.handlerCard} onBlur={this.validateCard} warningMessage={this.state.warningCard} maxLength=\"16\" />\n                  <div className=\"row\">\n                    <div className=\"col-12 col-lg-6\">\n                      <InputForm inputColor=\"-secondary\" customClasses=\"mt-50\" warning=\"Mes no válido\" type=\"text\" placeholder=\"MM\" label=\"Mes de vencimiento\" onChange={this.handlerMonth} onBlur={this.validateMonth} warningMessage={this.state.warningMonth} maxLength=\"2\" required/>\n                    </div>\n                    <div className=\"col-12 col-lg-6\">\n                      <InputForm inputColor=\"-secondary\" customClasses=\"mt-50\" warning=\"Año no válido\" type=\"text\" placeholder=\"AA\" label=\"Año de vencimiento\" onChange={this.handlerYear} onBlur={this.validateYear} warningMessage={this.state.warningYear} maxLength=\"2\" required/>\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-12 col-lg-6\">\n                      <InputForm inputColor=\"-secondary\" customClasses=\"mt-50\" warning=\"CVV no válido\" type=\"text\" placeholder=\"CVV\" label=\"Número de validación\" onChange={this.handlerCvv} onBlur={this.validateCvv} warningMessage={this.state.warningCvv} maxLength=\"4\" required/>\n                    </div>                      \n                  </div>\n                </div>\n    \n                <div className=\"col-12 col-lg-4\">\n                  <div className=\"cm-card -dark mt-50\">\n                    <p className=\"subtitle\">Resumen</p>\n                    <p>Plan {this.state.plan}</p>\n                    <p className=\"higlight-big mb-30\">${this.state.price}.<sup>00</sup></p>\n                    {/* <button onClick={this.changePlan}> */}\n                      <a href=\"#\" onClick={this.changePlan}>CAMBIAR PLAN <i class=\"fas fa-long-arrow-alt-right\"></i></a>\n                    {/* </button> */}\n                  </div>\n                </div>\n              </div>\n    \n              <div className=\"row\">\n                <div className=\"col-12 col-lg-6 mt-50\">\n                  <p>Tu compra está asegurada a través de <a target=\"blank\" href=\"https://www.openpay.mx/\">Open pay</a> un vendedor certificado </p>\n                  <img className=\"mr-10 mb-10\" src={ OpenPayLogo } alt=\"\"/>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  <input className=\"mt-50\" type=\"checkbox\" name=\"vehicle1\" value=\"Bike\" required onChange={this.validateTerms} /> He leido y estoy de acuerdo con los <a href=\"/terms\">Términos y condiciones</a>\n                </div>\n              </div>\n    \n              <div className=\"row\">\n                <div className=\"col-12 col-lg-4\">\n                  <ButtonSubmit title=\"Pagar\" customClass=\"my-30\" disabled={this.state.invalid} />\n\n                  {/* <ButtonPrimary\n                    onClick = {() => { this.chargeOpenPay(); }}\n                    title=\"Pagar\"\n                    customClass=\"my-30\"\n                  /> */}\n                </div>\n              </div>                 \n            </form>\n          </div>        \n  \n        </div>\n      )\n    }\n  }\n}\n\nexport default Pay\n\n"]},"metadata":{},"sourceType":"module"}