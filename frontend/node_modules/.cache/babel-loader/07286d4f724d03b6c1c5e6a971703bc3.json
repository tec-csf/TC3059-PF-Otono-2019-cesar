{"ast":null,"code":"var _jsxFileName = \"/home/cesar/Desktop/Riesgo_Cognitivo/frontend/src/components/Navbarmenu/Navbarmenu.jsx\";\nimport React, { Component } from 'react';\nimport { FaUserCircle, FaRegBell, FaSignOutAlt, FaCog, FaBullseye, FaBook } from 'react-icons/fa';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { ButtonSecondary } from '../Button/Button';\nimport { Redirect } from 'react-router-dom'; // import Logo from '../../img/logo-r-c.svg'\n\nimport Logo from \"../../img/logo-r-c.svg\";\nimport axios from 'axios';\nimport jwtDecode from 'jwt-decode';\nconst API_URL = process.env.REACT_APP_API_URL;\n\nclass Navbarmenu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClickIn = () => {\n      this.props.auth.login();\n    };\n\n    this.componentDidMount = () => {\n      if (this.props.auth.isAuthenticated()) {\n        this.setState({\n          redirect: true,\n          classPost: 'post-0'\n        }, () => {\n          this.renderRedirect();\n        });\n      }\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        axios.get(API_URL + \"/api/v1/search/metadata\", {\n          params: {\n            user_id: jwtDecode(localStorage.getItem(\"id_token\")).sub\n          }\n        }).then(res => {\n          if (res.data === \"empty\") {\n            this.setState({\n              page: 'user'\n            });\n          } else {\n            this.setState({\n              page: 'welcome'\n            });\n          }\n        });\n      }\n    };\n\n    this.onClickOut = () => {\n      this.props.auth.logout();\n    };\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      isOpen: false,\n      redirect: false,\n      page: '',\n      classPost: ''\n    };\n  }\n\n  renderRedirectUser() {\n    return React.createElement(Redirect, {\n      to: \"/user-profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    });\n  }\n\n  renderRedirectWelcome() {\n    return React.createElement(Redirect, {\n      to: \"/Welcome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    });\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      className: this.state.classPost,\n      expand: \"md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(NavbarBrand, {\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Logo,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(NavbarToggler, {\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(Collapse, {\n      isOpen: this.state.isOpen,\n      navbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.props.auth.isAuthenticated() && React.createElement(Nav, {\n      className: \"ml-auto\",\n      navbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"button -primary\",\n      href: \"/welcome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Inicio\")), React.createElement(UncontrolledDropdown, {\n      nav: true,\n      inNavbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(DropdownToggle, {\n      nav: true,\n      caret: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(FaUserCircle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), \"Mi Cuenta\"), React.createElement(DropdownMenu, {\n      right: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"dropdown-item\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(FaCog, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), \"Ajustes\"), React.createElement(\"a\", {\n      className: \"dropdown-item\",\n      href: \"/\",\n      onClick: this.onClickOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(FaSignOutAlt, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), \"Cerrar sesi\\xF3n\")))), !this.props.auth.isAuthenticated() && React.createElement(Nav, {\n      className: \"ml-auto\",\n      navbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      href: \"#\",\n      onClick: this.onClickIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Iniciar sesi\\xF3n\")), React.createElement(NavItem, {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"button -primary\",\n      href: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Registrarme\"))))));\n  }\n\n}\n\nexport default Navbarmenu;","map":{"version":3,"sources":["/home/cesar/Desktop/Riesgo_Cognitivo/frontend/src/components/Navbarmenu/Navbarmenu.jsx"],"names":["React","Component","FaUserCircle","FaRegBell","FaSignOutAlt","FaCog","FaBullseye","FaBook","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","NavItem","NavLink","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","ButtonSecondary","Redirect","axios","jwtDecode","API_URL","process","env","REACT_APP_API_URL","Navbarmenu","constructor","props","onClickIn","auth","login","componentDidMount","isAuthenticated","setState","redirect","classPost","renderRedirect","state","get","params","user_id","localStorage","getItem","sub","then","res","data","page","onClickOut","logout","toggle","bind","isOpen","renderRedirectUser","renderRedirectWelcome","render","Logo"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { \n  FaUserCircle, \n  FaRegBell,\n  FaSignOutAlt,\n  FaCog,\n  FaBullseye,\n  FaBook } from 'react-icons/fa'\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem  } from 'reactstrap';\n\nimport { ButtonSecondary } from '../Button/Button'\nimport { Redirect } from 'react-router-dom'\n\n  // import Logo from '../../img/logo-r-c.svg'\nimport Logo from '../../img/logo-r-c.svg'\nimport axios from 'axios'\nimport jwtDecode from 'jwt-decode'\n\nconst API_URL = process.env.REACT_APP_API_URL\n\nclass Navbarmenu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      isOpen: false,\n      redirect: false,\n      page: '',\n      classPost: ''\n    };\n  }\n\n  onClickIn = () => {\n    this.props.auth.login()\n  }\n\n  componentDidMount = () => {\n    if (this.props.auth.isAuthenticated()) {\n      this.setState({\n        redirect: true,\n        classPost: 'post-0'\n      }, () => {\n        this.renderRedirect()\n      })\n    }\n  }\n\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      axios.get(API_URL + \"/api/v1/search/metadata\", {\n        params: {\n          user_id: jwtDecode(localStorage.getItem(\"id_token\")).sub\n        }\n      }).then((res) => {\n\n        if (res.data === \"empty\") {\n          this.setState({\n            page: 'user'\n          })\n        }\n        else {\n          this.setState({\n            page: 'welcome'\n          })\n        }\n      });\n    }\n  }\n\n  renderRedirectUser() {\n    return <Redirect to='/user-profile' />\n  }\n\n  renderRedirectWelcome() {\n    return <Redirect to='/Welcome' />\n  }\n\n  onClickOut = () => {\n    this.props.auth.logout()\n  }\n\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n  render() {\n    return (\n      <div>\n        <Navbar className={this.state.classPost} expand=\"md\">\n          {/* <NavbarBrand href=\"/\"><img src={ Logo } alt=\"\"/></NavbarBrand> */}\n          <NavbarBrand href=\"/\"><img src={Logo} alt=\"\"/></NavbarBrand>\n          <NavbarToggler onClick={this.toggle} />\n          <Collapse isOpen={this.state.isOpen} navbar>\n              {this.props.auth.isAuthenticated() && \n                <Nav className=\"ml-auto\" navbar>\n                  <NavItem className=\"d-flex justify-content-center\">\n                    <a className=\"button -primary\" href=\"/welcome\">Inicio</a>\n                  </NavItem>\n                  <UncontrolledDropdown nav inNavbar>\n                    <DropdownToggle nav caret>\n                      <FaUserCircle />\n                      Mi Cuenta\n                    </DropdownToggle>\n                    <DropdownMenu right>\n                      {/* <a className=\"dropdown-item\" href=\"/\"><FaBullseye/>Cuenta Premium</a>\n                      <a className=\"dropdown-item\" href=\"/\"><FaBook/>Mi perfil</a>\n                      <a className=\"dropdown-item\" href=\"/\"><FaRegBell/>Notificaciones</a>                   */}\n                      {/* <DropdwnItem divider /> */}\n                      {/* <a className=\"dropdown-item\" href=\"/\" onClick={this.props.auth.logout}><FaSignOutAlt/>Cerrar sesión</a> */}\n                      <a className=\"dropdown-item\" href=\"/\" ><FaCog />Ajustes</a>\n                      <a className=\"dropdown-item\" href=\"/\" onClick={this.onClickOut}><FaSignOutAlt />Cerrar sesión</a>\n                    </DropdownMenu>\n                  </UncontrolledDropdown>\n                </Nav>\n              }\n              {!this.props.auth.isAuthenticated() &&\n                <Nav className=\"ml-auto\" navbar>\n                  <NavItem>\n                    <NavLink href=\"#\" onClick={this.onClickIn}>Iniciar sesión</NavLink>\n                  </NavItem>\n                  <NavItem className=\"d-flex justify-content-center\">\n                    <a className=\"button -primary\" href=\"/register\">Registrarme</a>\n                  </NavItem>\n                </Nav>\n              }\n              \n              {/* <NavItem className=\"d-flex justify-content-center\">\n                <ButtonSecondary customClass=\"w-auto\" title=\"Ver planes\"/> \n              </NavItem> */}              \n          </Collapse>\n        </Navbar>\n      </div>\n    );\n  }\n}\n\nexport default Navbarmenu"]},"metadata":{},"sourceType":"module"}